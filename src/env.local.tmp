import { PartialConfig, mergeConfig } from '@/common/config.types';

const base: PartialConfig = {
  db: {
    port: 8432,
    username: 'hxr',
    password: 'hxr888888!',
  },
  log: {
    levels: ['log', 'error', 'warn', 'debug'],
    dbLogger: {
      highlightSql: true,
    },
  },
  kafkaConfig: {
    clientId: 'local-1',
    consumerGroupId: 'local-1',
  },
  orderFlowWs: {
    cors: {
      origin: '*',
      // origin: [
      //   'http://localhost',
      //   'http://localhost:3000',
      //   'http://127.0.0.1',
      //   'http://127.0.0.1:3000',
      //   'http://18.167.17.112',
      //   'http://18.167.17.112:3000',
      //   'http://18.167.17.112:9000',
      //   'https://hxr.com',
      //   'https://dev.hxr.com',
      //   'https://alpha.hxr.com',
      // ],
      // credentials: true,
    },
  },
};

type Envs = 'local' | 'dev';

const profiles: Record<Envs, PartialConfig> = {
  local: {
    db: {
      host: 'localhost',
      port: 6666,
      username: 'magic',
      password: 'magic',
    },
  },
  dev: {
    db: {
      host: '16.163.190.201',
    },
    defaultServerProfile: 'chartDataServer',
  },
};

export const LocalConfig = mergeConfig(base, profiles.dev);
